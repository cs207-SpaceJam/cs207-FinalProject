

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Background &mdash; spacejam 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Software Organization" href="organization.html" />
    <link rel="prev" title="How to use spacejam" href="howtouse.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> spacejam
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtouse.html">How to use <code class="docutils literal notranslate"><span class="pre">spacejam</span></code></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Background</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#euler-s-method-as-a-solution-to-our-problem">Euler’s Method As a Solution to Our Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automatic-differentiation-a-brief-overview">Automatic Differentiation: A brief overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="organization.html">Software Organization</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation.html">Implementation Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="future.html">Future</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">spacejam</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Background</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/background.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="background">
<h1>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h1>
<div class="section" id="euler-s-method-as-a-solution-to-our-problem">
<h2>Euler’s Method As a Solution to Our Problem<a class="headerlink" href="#euler-s-method-as-a-solution-to-our-problem" title="Permalink to this headline">¶</a></h2>
<p>Euler’s method is a numerical procedure for solving ordinary differential
equations with a given initial value. In the case of our problem statement,
here is how it applies:</p>
<ul class="simple">
<li>We have some initial conditions (such as position and velocity of a planet)
and we want to know what kind of orbit this planet will trace out, given that
only the force acting on it is gravity.</li>
<li>Using the physical insight that
the “slope” of position over time is velocity, and the “slope” of velocity
over time is acceleration, we can predict, or integrate, how the quantities
will change over time.</li>
<li>More explicitly, we can use the acceleration
supplied by gravity to predict the velocity of our planet, and then use this
velocity to predict its position a timestep <span class="math notranslate nohighlight">\(Delta t\)</span> later.</li>
<li>This gives us a new position and the whole process starts over again at the
next timestep. Here is a schematic of the Euler integration method.</li>
</ul>
<img alt="http://jmahaffy.sdsu.edu/courses/f00/math122/lectures/num_method_diff_equations/images/euler_ani.gif" src="http://jmahaffy.sdsu.edu/courses/f00/math122/lectures/num_method_diff_equations/images/euler_ani.gif" />
<p>This plot above could represent the component of the planet’s velocity varies
over time. Specifically, we have some solution curve (black) that we want to
approximate (red), given that we only know two things:</p>
<ul class="simple">
<li>where we started <span class="math notranslate nohighlight">\((t_0, y_0)\)</span></li>
<li>the rate of how where we were changes with time
<span class="math notranslate nohighlight">\(\left(y'_0 = \frac{y_1 - y_0}{\Delta t}\right)\)</span></li>
</ul>
<p>The cool thing about this is that even though we do not explicity know what
<span class="math notranslate nohighlight">\(y_1\)</span> is, the fact that we are given <span class="math notranslate nohighlight">\(y'_0\)</span> from the initial
conditions allows us to bootstrap our way around this. Starting with the
definition of slope, we can use the timestep <span class="math notranslate nohighlight">\(h = \Delta t\)</span>, to find
where we will be a timestep later <span class="math notranslate nohighlight">\(y_1\)</span>:</p>
<div class="math notranslate nohighlight">
\[y_0' = \frac{y_1 - y_0}{\Delta t}\quad\longrightarrow\quad y_1
= y_0 + \Delta t\ y_0'\quad.\]</div>
<p>Generalizing to any timestep <span class="math notranslate nohighlight">\(n\)</span>:</p>
<div class="math notranslate nohighlight">
\[y_{n+1} = y_n + \Delta t\ y_n'\]</div>
<p>Whenever all of the <span class="math notranslate nohighlight">\(n+1\)</span> terms are on one side of the equation and the
<span class="math notranslate nohighlight">\(n\)</span> terms are on the other, we have something called an <strong>explicit
numerical method</strong>. This is intuitively straightforward and easy to implement,
but there is a downside, the solutions <strong>do not converge</strong> for a given
timestep. A solution to this would be to consider an implicit analogue to
Euler’s method.</p>
<p>Instead, we can recast our problem in the form of an oscillator with some
motion <span class="math notranslate nohighlight">\(x(t)\)</span> along the x-axis confined to an area that is close to this
axis. In other words,</p>
<div class="math notranslate nohighlight">
\[\begin{split}\newcommand{b}[1]{\mathbf#1}
\newcommand{od}[2]{\frac{\mathrm{d}#1}{\mathrm{d}#2}}
\b f(\b X_n) = \dot{\b X}_n = \od{}{t}\begin{bmatrix}x_n\\y_n\end{bmatrix}
= \begin{bmatrix}-x_n\\-ky_n\end{bmatrix}
\quad,\end{split}\]</div>
<p>for large <span class="math notranslate nohighlight">\(k\)</span> to constrain our oscillator to the x-axis.</p>
<p>Running our explicit Euler scheme then gives,</p>
<div class="math notranslate nohighlight">
\[\begin{split}\b X_{n+1} = \b X_n + h\b f(\b X_n)
= \begin{pmatrix}x_0\\y_0\end{pmatrix}
- h\begin{pmatrix}-x_0\\-ky_0\end{pmatrix}
= \begin{bmatrix}(1 - h)x_0\\(1 - hk) y_0\end{bmatrix}
\quad.\end{split}\]</div>
<p><strong>This is our problem</strong>. If <span class="math notranslate nohighlight">\(|1 - hk| &gt; 0\)</span>, then <span class="math notranslate nohighlight">\(|y_{n+1}| &gt;
|y_n|\)</span>, which would imply that our spring would actually get farther and
farther away from the x-axis! In other words, if we happened to select a
timestep larger than <span class="math notranslate nohighlight">\(h = 2/k\)</span>, our solution would not converge. By
definition, <span class="math notranslate nohighlight">\(k\)</span> is large, so the only way to avoid having this system
blow up on us is to select very small timesteps, which is computationally
expensive and would take forever to run.</p>
<p>We need a scheme that will remain stable for a wide range of timesteps, which
is what <strong>implicit differentiation can accomplish</strong>. One way of approaching this
is to re-cast it as the root finding problem</p>
<div class="math notranslate nohighlight">
\[\b g(\b X_{n+1}) = \b X_{n+1} - \b X_n - h\b f(\b X_{n+1})\quad.\]</div>
<p>Here, the root of the new function <span class="math notranslate nohighlight">\(\b g\)</span> is the solution to our original
implicit integration problem. The <a class="reference external" href="https://en.wikipedia.org/wiki/Newton%27s_method">Newton-Raphson method</a>. is a useful root finding
algorithm, but it requires the computation of the Jacobian,</p>
<div class="math notranslate nohighlight">
\[\b I - h\b J\b f(\b X_{n+1})\quad.\]</div>
<p>Accurately computing the elements of the Jacobian can be numerically expensive,
so a method to quickly and accurately compute derivatives would be extremely
useful.</p>
<p><code class="docutils literal notranslate"><span class="pre">spacejam</span></code> provides this capability by computing the Jacobian quickly and
accurately via
<a class="reference internal" href="#automatic-differentiation-a-brief-overview">automatic differentiation</a>,
which can be used to solve a class or problems that depend on implicit
differentiation for numerically stable solutions.</p>
</div>
<div class="section" id="automatic-differentiation-a-brief-overview">
<h2>Automatic Differentiation: A brief overview<a class="headerlink" href="#automatic-differentiation-a-brief-overview" title="Permalink to this headline">¶</a></h2>
<p>This is a method to simultaneously compute a function and its derivative to
machine precision. This can be done by introducing the dual number
<span class="math notranslate nohighlight">\(\epsilon^2=0\)</span>, where <span class="math notranslate nohighlight">\(\epsilon\ne0\)</span>. If we transform some
arbitrary function <span class="math notranslate nohighlight">\(f(x)\)</span> to <span class="math notranslate nohighlight">\(f(x+\epsilon)\)</span> and expand it, we
have:</p>
<div class="math notranslate nohighlight">
\[f(x+\epsilon) = f(x) + \epsilon f'(x) + O(\epsilon^2)\quad.\]</div>
<p>By the definition of <span class="math notranslate nohighlight">\(\epsilon\)</span>, all second order and higher terms in
<span class="math notranslate nohighlight">\(\epsilon\)</span> vanish and we are left with <span class="math notranslate nohighlight">\(f(x+\epsilon) = f(x) +
\epsilon f'(x)\)</span>, where the dual part, <span class="math notranslate nohighlight">\(f'(x)\)</span>, of this transformed
function is the derivative of our original function <span class="math notranslate nohighlight">\(f(x)\)</span>. If we adhere
to the new system of algebra introduced by dual numbers, we are able to compute
derivatives of functions exactly.</p>
<p>For example, multiplying two dual numbers <span class="math notranslate nohighlight">\(z_1 = a_r + \epsilon a_d\)</span> and
<span class="math notranslate nohighlight">\(z_2 = b_r + \epsilon b_d\)</span> would behave like:</p>
<div class="math notranslate nohighlight">
\[\begin{split}z_1 \times z_2 &amp;= (a_r + \epsilon a_d) \times (b_r + \epsilon b_d)
= a_rb_r + \epsilon(a_rb_d + a_db_r) + \epsilon^2 a_db_d \\
&amp;= \boxed{a_rb_r + \epsilon(a_rb_d + a_db_r)}\quad.\end{split}\]</div>
<p>Operations like this can be redefined via <strong>operator overloading</strong>, which we
implement in <a class="reference internal" href="implementation.html#api"><span class="std std-ref">Implementation Details</span></a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="organization.html" class="btn btn-neutral float-right" title="Software Organization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="howtouse.html" class="btn btn-neutral" title="How to use spacejam" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Ian Weaver, Sherif Gerges, Lauren Yoo

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>